<html>
<head>
    <title>Conversation</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="hsl(298, 75%, 90%)">

    <link rel="stylesheet" href='css/style.css'>
    <link rel="stylesheet" href='css/navbar.css'>
    <link rel="stylesheet" href='css/conversation.css'>

    <!-- JQuery -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
       
    <!-- Pusher -->
    <script type="text/javascript" src="https://js.pusher.com/7.2/pusher.min.js"></script>
 
    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.0/gsap.min.js" integrity="sha512-2fk3Q4NXPYAqIha0glLZ2nluueK43aNoxvijPf53+DgL7UW9mkN+uXc1aEmnZdkkZVvtJZltpRt+JqTWc3TS3Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
   
    <!-- Google Fonts  & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
     
    <link rel="preload" as="style" onload="this.rel= 'stylesheet'" href='https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap'>
    <link rel="preload" as="style" onload="this.rel= 'stylesheet'" href='https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap'>
     
    <noscript>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap">
        <link rel="stylesheet" href='https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap'>
    </noscript> 
</head>

<body class="prevent-select">
    <nav class="navbar navbar__top">
        <a href="chats.html" class="nav__link" id="back"><i class="icon material-icons material-symbols-outlined">arrow_back</i></a>
        
        <div class="material-icons nav__header">
            <img class="profile__image" src="assets/dark/male_avatar.svg">

            <h1 class="title">Devansu Yadav</h1>
        </div>
        
        <a href="#" class="nav__link" id="menu" onclick="toggleMenu()"><i class="icon material-icons material-symbols-outlined">more_vert</i></a>
        <a href="#" class="nav__link" id="close" onclick="toggleMenu()"><i class="icon material-icons material-symbols-outlined">close</i></a>
    
        <div class="nav__modal__wrapper" id="nav__modal__wrapper">
            <div class="nav__modal">
                <a href="#" class="nav__modal-link text sec-text">View Profile</a>
                <a href="#" class="nav__modal-link text sec-text">Clear chat</a>
                <a href="#" class="nav__modal-link text sec-text">Report</a>
                <a href="#" class="nav__modal-link text sec-text">Block</a>
            </div>
        </div>
    
        <script>
            // Handle Nav Modal
            $("#menu").click(function(){
                $('#close').css('display', 'block'); 
                $('#menu').css('display', 'none'); 
                $('.content').css({
                    'pointer-events': 'none',
                    'opacity': 0.5,
                });
            });
    
            $("#close").click(function(){
                $('#menu').css('display', 'block'); 
                $('#close').css('display', 'none'); 
                $('.content').css({
                    'pointer-events': 'auto',
                    'opacity': 1
                });
            });
    
            let navModalWrap = document.getElementById("nav__modal__wrapper");
    
            function toggleMenu(){
                navModalWrap.classList.toggle("open");
            }
        </script>
    </nav>

    <div class="loader">
        <img src="assets/loader/loader.gif">
    </div>

    <div class="content">
        <div class="container">
            <div class="chat_section">
                <div class="chat" data-date="04/08/2022">
                    <header class="date">Today</header>

                    <div class="messages">
                        <ul class="me message_container">
                            <li class="message">Hi
                                <span class="message-timestamp sec-text">5:04 PM</span>
                            </li>

                            <li class="message">kaisa hai?
                                <span class="message-timestamp sec-text">5:04 PM</span>
                            </li>
                        </ul>
                        
                        <ul class="other message_container">
                            <li class="message">Hi
                                <span class="message-timestamp sec-text">5:19 PM</span>
                            </li>
                            
                            <li class="message">kaisa hai?
                                <span class="message-timestamp sec-text">5:19 PM</span>
                            </li>
                        </ul>

                        <ul class="me message_container">
                            <li class="message">Hi
                                <span class="message-timestamp sec-text">5:04 PM</span>
                            </li>

                            <li class="message">kaisa hai?
                                <span class="message-timestamp sec-text">5:04 PM</span>
                            </li>
                        </ul>
                        
                        <ul class="other message_container">
                            <li class="message">Hi
                                <span class="message-timestamp sec-text">5:19 PM</span>
                            </li>
                            
                            <li class="message">kaisa hai?
                                <span class="message-timestamp sec-text">5:19 PM</span>
                            </li>
                        </ul>

                        <ul class="me message_container">
                            <li class="message">Hi
                                <span class="message-timestamp sec-text">5:04 PM</span>
                            </li>

                            <li class="message">kaisa hai?
                                <span class="message-timestamp sec-text">5:04 PM</span>
                            </li>
                        </ul>
                        
                        <ul class="other message_container">
                            <li class="message">Hi
                                <span class="message-timestamp sec-text">5:19 PM</span>
                            </li>
                            
                            <li class="message">kaisa hai?
                                <span class="message-timestamp sec-text">5:19 PM</span>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="chat" data-date="03/07/2022">
                    <header class="date">Yesterday</header>

                    <div class="messages">
                        <ul class="me message_container">
                            <li class="message">Hi
                                <span class="message-timestamp sec-text">5:04 PM</span>
                            </li>

                            <li class="message">kaisa hai?
                                <span class="message-timestamp sec-text">5:04 PM</span>
                            </li>
                        </ul>
                        
                        <ul class="other message_container">
                            <li class="message">Hi
                                <span class="message-timestamp sec-text">5:19 PM</span>
                            </li>
                            
                            <li class="message">kaisa hai?
                                <span class="message-timestamp sec-text">5:19 PM</span>
                            </li>
                        </ul>

                        <ul class="me message_container">
                            <li class="message">Hi
                                <span class="message-timestamp sec-text">5:04 PM</span>
                            </li>

                            <li class="message">kaisa hai?
                                <span class="message-timestamp sec-text">5:04 PM</span>
                            </li>
                        </ul>
                        
                        <ul class="other message_container">
                            <li class="message">Hi
                                <span class="message-timestamp sec-text">5:19 PM</span>
                            </li>
                            
                            <li class="message">kaisa hai?
                                <span class="message-timestamp sec-text">5:19 PM</span>
                            </li>
                        </ul>

                        <ul class="me message_container">
                            <li class="message">Hi
                                <span class="message-timestamp sec-text">5:04 PM</span>
                            </li>

                            <li class="message">kaisa hai?
                                <span class="message-timestamp sec-text">5:04 PM</span>
                            </li>
                        </ul>
                        
                        <ul class="other message_container">
                            <li class="message">Hi
                                <span class="message-timestamp sec-text">5:19 PM</span>
                            </li>
                            
                            <li class="message">kaisa hai?
                                <span class="message-timestamp sec-text">5:19 PM</span>
                            </li>
                        </ul>
                    </div>
                </div>
                
                <div class="chat" data-date="26/07/2022">
                    <header class="date">26/07/2022</header>

                    <div class="messages">
                        <ul class="me message_container">
                            <li class="message">Hi
                                <span class="message-timestamp sec-text">5:04 PM</span>
                            </li>

                            <li class="message">kaisa hai?
                                <span class="message-timestamp sec-text">5:04 PM</span>
                            </li>
                        </ul>
                        
                        <ul class="other message_container">
                            <li class="message">Hi
                                <span class="message-timestamp sec-text">5:19 PM</span>
                            </li>
                            
                            <li class="message">kaisa hai?
                                <span class="message-timestamp sec-text">5:19 PM</span>
                            </li>
                        </ul>

                        <ul class="me message_container">
                            <li class="message">Hi
                                <span class="message-timestamp sec-text">5:04 PM</span>
                            </li>

                            <li class="message">kaisa hai?
                                <span class="message-timestamp sec-text">5:04 PM</span>
                            </li>
                        </ul>
                        
                        <ul class="other message_container">
                            <li class="message">Hi
                                <span class="message-timestamp sec-text">5:19 PM</span>
                            </li>
                            
                            <li class="message">kaisa hai?
                                <span class="message-timestamp sec-text">5:19 PM</span>
                            </li>
                        </ul>

                        <ul class="me message_container">
                            <li class="message">Hi
                                <span class="message-timestamp sec-text">5:04 PM</span>
                            </li>

                            <li class="message">kaisa hai?
                                <span class="message-timestamp sec-text">5:04 PM</span>
                            </li>
                        </ul>
                        
                        <ul class="other message_container">
                            <li class="message">Hi
                                <span class="message-timestamp sec-text">5:19 PM</span>
                            </li>
                            
                            <li class="message">kaisa hai?
                                <span class="message-timestamp sec-text">5:19 PM</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="message_bar">
                <form class="message_bar__form" method="post">
                    <div class="stickers__wrapper">
                        <div onclick="document.getElementsByClassName('stickers__board__wrapper')[0].classList.toggle('open');">
                            <svg class="stickers__open" viewBox="0 0 24 24" width="24" height="24">
                                <path fill="var(--layer-cl)" d="M21.799 10.183c-.002-.184-.003-.373-.008-.548-.02-.768-.065-1.348-.173-1.939a6.6 6.6 0 0 0-.624-1.87 6.24 6.24 0 0 0-1.171-1.594 6.301 6.301 0 0 0-1.614-1.159 6.722 6.722 0 0 0-1.887-.615c-.59-.106-1.174-.15-1.961-.171-.318-.008-3.607-.012-4.631 0-.798.02-1.383.064-1.975.17a6.783 6.783 0 0 0-1.888.616 6.326 6.326 0 0 0-2.785 2.753 6.658 6.658 0 0 0-.623 1.868c-.107.591-.152 1.186-.173 1.941-.008.277-.016 2.882-.016 2.882 0 .52.008 1.647.016 1.925.02.755.066 1.349.172 1.938.126.687.33 1.3.624 1.871.303.59.698 1.126 1.173 1.595a6.318 6.318 0 0 0 1.614 1.159 6.786 6.786 0 0 0 2.146.656c.479.068.833.087 1.633.108.035.001 2.118-.024 2.578-.035a6.873 6.873 0 0 0 4.487-1.811 210.877 210.877 0 0 0 2.928-2.737 6.857 6.857 0 0 0 2.097-4.528l.066-1.052.001-.668c.001-.023-.005-.738-.006-.755zm-3.195 5.92c-.79.757-1.784 1.684-2.906 2.716a5.356 5.356 0 0 1-2.044 1.154c.051-.143.116-.276.145-.433.042-.234.06-.461.067-.74.003-.105.009-.789.009-.789.013-.483.042-.865.107-1.22.069-.379.179-.709.336-1.016.16-.311.369-.595.621-.844.254-.252.542-.458.859-.617.314-.158.65-.268 1.037-.337a8.127 8.127 0 0 1 1.253-.106s.383.001.701-.003a4.91 4.91 0 0 0 .755-.066c.186-.034.348-.105.515-.169a5.35 5.35 0 0 1-1.455 2.47zm1.663-4.757a1.128 1.128 0 0 1-.615.859 1.304 1.304 0 0 1-.371.119 3.502 3.502 0 0 1-.52.043c-.309.004-.687.004-.687.004-.613.016-1.053.049-1.502.129a5.21 5.21 0 0 0-1.447.473 4.86 4.86 0 0 0-2.141 2.115 5.088 5.088 0 0 0-.479 1.434 9.376 9.376 0 0 0-.131 1.461s-.006.684-.008.777c-.006.208-.018.37-.043.511a1.154 1.154 0 0 1-.626.86c-.072.036-.168.063-.37.098-.027.005-.25.027-.448.031-.021 0-1.157.01-1.192.009-.742-.019-1.263-.046-1.668-.126a5.27 5.27 0 0 1-1.477-.479 4.823 4.823 0 0 1-2.127-2.1 5.141 5.141 0 0 1-.482-1.453c-.09-.495-.13-1.025-.149-1.71a36.545 36.545 0 0 1-.012-.847c-.003-.292.005-3.614.012-3.879.02-.685.061-1.214.151-1.712a5.12 5.12 0 0 1 .481-1.45c.231-.449.53-.856.892-1.213.363-.36.777-.657 1.233-.886a5.26 5.26 0 0 1 1.477-.479c.503-.09 1.022-.129 1.74-.149a342.03 342.03 0 0 1 4.561 0c.717.019 1.236.058 1.737.148a5.263 5.263 0 0 1 1.476.478 4.835 4.835 0 0 1 2.126 2.098c.228.441.385.913.482 1.453.091.499.131 1.013.15 1.712.008.271.014 1.098.014 1.235a2.935 2.935 0 0 1-.037.436z"></path>
                            </svg>
                                
                            <i class="stickers__close material-icons material-symbols-filled">close</i>
                        </div>

                        <div class="stickers__board__wrapper">
                            <div class="stickers__board">
                                <header>
                                    <div class="icon active">
                                        <img src="stickers/panda_32x.png">
                                    </div>

                                    <div class="icon">
                                        <img src="stickers/panda_32x.png">
                                    </div>       
                                </header>

                                <section>
                                    <div class="icon">
                                        <img src="stickers/panda_64x.png">
                                    </div>

                                    <div class="icon">
                                        <img src="stickers/panda_64x.png">
                                    </div>

                                    <div class="icon">
                                        <img src="stickers/panda_64x.png">
                                    </div>

                                    <div class="icon">
                                        <img src="stickers/panda_64x.png">
                                    </div>

                                    <div class="icon">
                                        <img src="stickers/panda_64x.png">
                                    </div>
                                    
                                    <div class="icon">
                                        <img src="stickers/panda_64x.png">
                                    </div>

                                    <div class="icon">
                                        <img src="stickers/panda_64x.png">
                                    </div>

                                    <div class="icon">
                                        <img src="stickers/panda_64x.png">
                                    </div>

                                    <div class="icon">
                                        <img src="stickers/panda_64x.png">
                                    </div>

                                    <div class="icon">
                                        <img src="stickers/panda_64x.png">
                                    </div>

                                    <div class="icon">
                                        <img src="stickers/panda_64x.png">
                                    </div>

                                    <div class="icon">
                                        <img src="stickers/panda_64x.png">
                                    </div>

                                    <div class="icon">
                                        <img src="stickers/panda_64x.png">
                                    </div>
                                    
                                    <div class="icon">
                                        <img src="stickers/panda_64x.png">
                                    </div>

                                    <div class="icon">
                                        <img src="stickers/panda_64x.png">
                                    </div>

                                    <div class="icon">
                                        <img src="stickers/panda_64x.png">
                                    </div>

                                    <div class="icon">
                                        <img src="stickers/panda_64x.png">
                                    </div>

                                    <div class="icon">
                                        <img src="stickers/panda_64x.png">
                                    </div>
                                    
                                    <div class="icon">
                                        <img src="stickers/panda_64x.png">
                                    </div>

                                    <div class="icon">
                                        <img src="stickers/panda_64x.png">
                                    </div>

                                    <div class="icon">
                                        <img src="stickers/panda_64x.png">
                                    </div>

                                    <div class="icon">
                                        <img src="stickers/panda_64x.png">
                                    </div>

                                    <div class="icon">
                                        <img src="stickers/panda_64x.png">
                                    </div>
                                </section>
                            </div>
                        </div>
                    </div>
                    
                    <div class="input_bar__wrapper">
                        <textarea placeholder="Message" class="input_bar" rows="1" id="message" onkeyup="textAreaAdjust(this); bottomScroller(this);"></textarea>
                        
                        <i id="fullscreen"      class="icon material-icons material-symbols-filled">fullscreen</i>
                        <i id="fullscreen_exit" class="icon material-icons material-symbols-filled">fullscreen_exit</i>
                    </div>
                    
                    <i id="send" class="send icon material-icons material-symbols-filled">send</i>
                    
                    <div style="display: none;">
                        <input type="hidden" id="sender_username"   value="">
                        <input type="hidden" id="receiver_username" value="">
                        <input type="hidden" id="channel_name"      value="">
                    </div>
                </form>
            </div>
        </div>
    </div>

    <nav class="navbar navbar__bottom">
        <a href="home.html" id="home" class="nav__link"><i class="icon material-icons material-symbols-outlined">home</i></a>
        <a href="likes.html" id="likes" class="nav__link"><i class="icon material-icons material-symbols-outlined">favorite</i></a>
        <a href="chats.html" id="chats" class="nav__link disabled"><i class="icon material-icons material-symbols-filled">chat_bubble</i></a>
        <a href="user.html" id="user" class="nav__link"><i class="icon material-icons material-symbols-outlined">person</i></a>
    </nav>
    <div class="navbar__dummy"></div>

    <script type="text/javascript" src="js/app.js"></script>

    <script>
        $("#fullscreen").click(function(){
            $('.input_bar').css('height', '15rem'); 
            $('#fullscreen_exit').css('display', 'block'); 
            $('#fullscreen').css('display', 'none'); 
        });

        $("#fullscreen_exit").click(function(){
            $('.input_bar').css('height', '100%'); 
            $('#fullscreen').css('display', 'block'); 
            $('#fullscreen_exit').css('display', 'none'); 
        });

        $(".stickers__open").click(function(){
            $('.stickers__open').css('display', 'none'); 
            $('.stickers__close').css('display', 'block'); 

            $('.chat_section').css({
                'pointer-events': 'none',
                'opacity': 0.5,
            });

            $('.message_bar').css({
                'pointer-events': 'auto',
                'opacity': 1,
            });
        });

        $(".stickers__close").click(function(){
            $('.stickers__open').css('display', 'block'); 
            $('.stickers__close').css('display', 'none');

            $('.chat_section').css({
                'pointer-events': 'aunset',
                'opacity': 1,
            });

            $('.message_bar').css({
                'pointer-events': 'unset',
                'opacity': 1,
            });
        });

        function textAreaAdjust(element){
            height = element.scrollHeight;

            if (height < 131){
                element.style.height = (element.scrollHeight)+"px";
            }
            else{
                console.log();
            }
        }
        
        function bottomScroller(scroller) {
            let scrollBottom = scroller.scrollHeight - scroller.scrollTop - scroller.clientHeight;

            scroller.addEventListener('scroll', () => scrollBottom = scroller.scrollHeight - scroller.scrollTop - scroller.clientHeight);
            window.addEventListener('resize', () => scroller.scrollTop = scroller.scrollHeight - scrollBottom - scroller.clientHeight);
        };
    </script>
</body>
</html>
